
w = [[0.5, 0, -0.5], [0, 0.5, 0], [1.5, -0.5, 0]] 

c = hmap(lambda x: dot(x[-1:2, -1:2], w), data[1:360, 1:240])